<!DOCTYPE html>
<html>
    <head>
        <title id="titre"></title>
        <meta charset="UTF-8"/>
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <script src="../../dist/jsRealB.js"></script>
        <script>
        Object.assign(globalThis,jsRealB);
        var max=4;

        function kmsAPied(n){
            return NP(NO(n).dOpt({nat:true}),N('kilomètre'),
                      PP(P("à"),NP(N("pied"))));
        }

        function ligne(l){
            return $("<div/>").text(l.toString());
        }

        function refrain(){
            var s1=S(NP(D("le"),N("peinture"),
                        PP(P("à"),D("le"),N("huile"))).a(","), 
                     S(Pro("ce"), VP(V("être").t("p"),Adv("bien"),A("difficile"))));
            var s2=S('mais',
                     Pro("ce"),
                     VP(V("être").t("p"),
					    AdvP(Adv("bien"),A("beau").f("co")),
                        SP(Pro("que"), 
                           NP(D("le"),N("peinture"), 
                           PP(P("à"),D("le"),N("eau")) ) ) )
                       );
            return $("<p/>").append(ligne(s1)).append(ligne(s2));
        }

        function generer() {
            loadFr();
            var $body=$("body").css("text-align","center");
            var m1=kmsAPied(1);
            $("#titre").text(m1);
            // var h1=$("<h1/>").text(m1)
            $body.append(m1.cap(true).tag("h1").realize());
            var use=V("user").t("p");
            var s1=S(Pro("ça"),use);
            var s2=S(s1,NP(D("le"),N("soulier").n("p")));
            for(var i=1;i<=max;i++){
                var kmap=kmsAPied(i).a(",");
                var $lignes=$("<b/>").append("<p/>");
                $lignes.append(ligne(S(kmap,s1.clone().a(","),s1))).append(ligne(S(kmap,s2)));
                $body.append($lignes);
                $body.append(refrain());
            };
            $body.append(ligne("..."));
        };
        
       $(document).ready(function() {
           generer();
       });
    </script>
    </head>
    <body>
        
    </body>
</html>